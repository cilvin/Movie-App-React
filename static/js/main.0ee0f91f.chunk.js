(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(32),l=a.n(o),c=(a(61),a(62),a(19)),i=a(20),s=a(22),m=a(21),u=a(23),v=a(27),d=a(9),h="SET_MOVIES",E="SET_FILTER",p="SET_SORT_COLUMN",g="SET_LOGGEDIN_USER",f="SET_FAVORITES";var b=Object(v.b)({visibilityFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return t.value;default:return e}},sortColumn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"title",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return t.value;default:return e}},movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return t.value;default:return e}},loggedInUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return t.value;default:return e}},favorites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return t.value;default:return e}}}),N=a(11),y=a.n(N),k=a(3),w=a.n(k),I=(a(84),a(5));var S=Object(d.b)(function(e){return{movies:e.movies}})(function(e){var t=e.movies,a=e.movieId;if(!t||!t.length)return null;var n=t.find(function(e){return e._id==a});return r.a.createElement("div",{className:"movie-view"},r.a.createElement("div",{className:"movie-title"},r.a.createElement("h3",{className:"label"},"Title"),r.a.createElement("p",{className:"value"},n.Title)),r.a.createElement("div",{className:"movie-description"},r.a.createElement("h3",{className:"label"},"Description"),r.a.createElement("p",{className:"value"},n.Description)),r.a.createElement("img",{alt:"",className:"movie-poster"}),r.a.createElement("div",{className:"movie-genre"},r.a.createElement("h3",{className:"label"},"Genre"),r.a.createElement(I.b,{to:"/genre/".concat(n.Genre.Name)},r.a.createElement("p",{className:"value"},n.Genre.Name))),r.a.createElement("div",{className:"movie-director"},r.a.createElement("h3",{className:"label"},"Director"),r.a.createElement(I.b,{to:"/director/".concat(n.Director.Name)},r.a.createElement("p",{className:"value"},n.Director.Name))),r.a.createElement(I.b,{to:"/Movie-App-React"},r.a.createElement(w.a,{className:"back",variant:"outline-dark"},"Back")),r.a.createElement(w.a,{className:"like",variant:"outline-dark",onClick:function(e){return function(e){e.preventDefault();var t=localStorage.getItem("user"),a=localStorage.getItem("token"),r="".concat("https://floating-ocean-36499.herokuapp.com/users/").concat(t,"/FavoriteMovies/").concat(n._id);y.a.post(r,{Username:t},{headers:{Authorization:"Bearer ".concat(a)}}).then(function(e){console.log(e),alert("Movie has been added to your Favorite List!")}).catch(function(e){console.log(e),alert("Ooooops... Something went wrong!")})}(e)}},"Like"))}),O=a(25),C=a(1),j=a.n(C);a(90);function B(e){var t=Object(n.useState)(""),a=Object(O.a)(t,2),o=a[0],l=a[1],c=Object(n.useState)(""),i=Object(O.a)(c,2),s=i[0],m=i[1];return r.a.createElement("div",{className:"containerL"},r.a.createElement(j.a,null,r.a.createElement(j.a.Group,{controlId:"formBasicEmail"},r.a.createElement(j.a.Label,null,"Username:"),r.a.createElement(j.a.Control,{type:"text",value:o,onChange:function(e){return l(e.target.value)},placeholder:"Enter email"}),r.a.createElement(j.a.Text,{className:"text-mute"})),r.a.createElement(j.a.Group,{controlId:"formBasicPassword"},r.a.createElement(j.a.Label,null,"Password:"),r.a.createElement(j.a.Control,{type:"password",value:s,onChange:function(e){return m(e.target.value)},placeholder:"Enter Password"}),r.a.createElement(j.a.Text,{className:"text-muted"})),r.a.createElement(w.a,{className:"submit",variant:"outline-dark",type:"button",onClick:function(t){t.preventDefault(),y.a.post("https://floating-ocean-36499.herokuapp.com/login",{Username:o,Password:s}).then(function(t){var a=t.data;e.onLoggedIn(a)}).catch(function(e){console.log(e,"no such user")})}},"Submit"),r.a.createElement(j.a.Group,{controlId:"formNewUser"},r.a.createElement(j.a.Text,{className:"newUsers"},"New user? click"," ",r.a.createElement(I.b,{to:"/register"}," ",r.a.createElement("span",null,"Here"))," ","to sign up"," "))))}a(99);var F=Object(d.b)(function(e){return{movies:e.movies}})(function(e){var t=e.movies,a=e.directorName;if(!t||!t.length)return null;var n=t.find(function(e){return e.Director.Name===a}).Director;return r.a.createElement("div",{className:"director-view"},r.a.createElement("h1",{className:"director"},n.Name),r.a.createElement("hr",null),r.a.createElement("h2",{id:"info"},"Biography"),r.a.createElement("div",{className:"bio"},n.Bio),r.a.createElement("h2",{id:"info"},"Born"),r.a.createElement("div",{className:"birth"},n.Birth),r.a.createElement("h2",{id:"info"},"Died"),r.a.createElement("div",{className:"death"},n.Death),r.a.createElement(I.b,{to:"/Movie-App-React"},r.a.createElement(w.a,{className:"backbuttn",variant:"outline-dark"},"Back")))}),L=a(55),D=(a(100),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).state={username:null,password:null,email:null,birthday:null,userData:null,favoriteMovies:[],usernameForm:null,passwordForm:null,emailForm:null,birthdayForm:null},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("token");null!==e&&this.getUser(e)}},{key:"getUser",value:function(e){var t=this,a=localStorage.getItem("user"),n="".concat("https://floating-ocean-36499.herokuapp.com/users/").concat(a);y.a.get(n,{headers:{Authorization:"Bearer ".concat(e)}}).then(function(e){t.setState({userData:e.data,username:e.data.Username,password:e.data.Password,email:e.data.Email,birthday:e.data.Birthday,favoriteMovies:e.data.FavoriteMovies})}).catch(function(e){console.log(e)})}},{key:"deleteUser",value:function(e){e.preventDefault();var t=localStorage.getItem("user"),a="".concat("https://floating-ocean-36499.herokuapp.com/users/").concat(t);y.a.delete(a,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then(function(e){alert("Your account has been delted!"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.open("/","_self")}).catch(function(e){alert(e,"failed to delete user")})}},{key:"deleteMovie",value:function(e,t){var a=this;e.preventDefault(),console.log(t);var n=localStorage.getItem("user"),r="".concat("https://floating-ocean-36499.herokuapp.com/users/").concat(n,"/FavoriteMovies/").concat(t);y.a.delete(r,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then(function(e){a.getUser(localStorage.getItem("token"))}).catch(function(e){alert(e,"Oops... something went wrong...")})}},{key:"handleChange",value:function(e){this.setState(Object(L.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=localStorage.getItem("user"),n="".concat("https://floating-ocean-36499.herokuapp.com/users/").concat(a);y.a.put(n,{Username:this.state.usernameForm,Password:this.state.passwordForm,Email:this.state.emailForm,Birthday:this.state.birthdayForm},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then(function(e){console.log(e),alert("Your data has been updated!"),localStorage.setItem("user",t.state.usernameForm),t.getUser(localStorage.getItem("token")),document.getElementsByClassName("changeDataForm")[0].requestFullscreen()}).catch(function(e){console.log(e,"error updating the userdata"),alert("Ooooops... Something went wrong!")})}},{key:"toggleForm",value:function(){var e=document.getElementsByClassName("changeDataForm")[0],t=document.getElementById("toggleButton");e.classList.toggle("show-form"),e.classList.contains("show-form")?t.innerHTML="CHANGE DATA &uarr;":t.innerHTML="CHANGE DATA &darr;"}},{key:"render",value:function(){var e=this,t=this.state,a=t.userData,n=t.username,o=t.email,l=t.birthday,c=t.favoriteMovies,i=this.props.movies;console.log("fv",c),console.log("log m",i);var s=[];i.map(function(e){for(var t=0;t<c.length;t++){var a=c[t];e._id===a&&s.push(e)}});return console.log("TCL: ProfileView -> render -> filteredFavMovie",s),a?r.a.createElement("div",{className:"view"},r.a.createElement("div",{className:"profile-view"},r.a.createElement("h2",{className:"director"},"User Profile"),r.a.createElement("hr",null),r.a.createElement("div",{className:"username"},r.a.createElement("h4",{className:"label"},"Name:"),r.a.createElement("div",{className:"value"},n)),r.a.createElement("div",{className:"password"},r.a.createElement("h4",{className:"label"},"Password:"),r.a.createElement("div",{className:"value"},"********")),r.a.createElement("div",{className:"birthday"},r.a.createElement("h4",{className:"label"},"Birthday"),r.a.createElement("div",{className:"value"},l)),r.a.createElement("div",{className:"email"},r.a.createElement("h4",{className:"label"},"Email:"),r.a.createElement("div",{className:"value"},o)),r.a.createElement("div",{className:"favorite-movies"},r.a.createElement("h4",{id:"fav",className:"label"},"Favorite Movies:"),"\u200b",i&&s?r.a.createElement("div",{className:"value"},s.map(function(t){return r.a.createElement("div",{key:t._id},t.Title,r.a.createElement("span",{onClick:function(a){return e.deleteMovie(a,t._id)}}," ","Delete"))})):r.a.createElement("div",{className:"value"},"Your Favorite Movie List is empty :-(")),r.a.createElement(I.b,{to:"/Movie-App-React"},r.a.createElement(w.a,{className:"view-btn",variant:"outline-dark",type:"button"},"Back")),r.a.createElement(w.a,{className:"view-btn",variant:"outline-dark",type:"button",onClick:function(t){return e.deleteUser(t)}},"Un-Register"),r.a.createElement(j.a,{className:"changeDataForm"},r.a.createElement("h2",null,"Change Data"),r.a.createElement("hr",null),r.a.createElement(j.a.Group,{controlId:"formBasicUsername"},r.a.createElement(j.a.Label,null,"Your Username"),r.a.createElement(j.a.Control,{type:"text",name:"usernameForm",onChange:function(t){return e.handleChange(t)},placeholder:"Enter Username"})),r.a.createElement(j.a.Group,{controlId:"formBasicPassword"},r.a.createElement(j.a.Label,null,"Your Password"),r.a.createElement(j.a.Control,{type:"text",name:"passwordForm",onChange:function(t){return e.handleChange(t)},placeholder:"Password"})),r.a.createElement(j.a.Group,{controlId:"formBasicEmail"},r.a.createElement(j.a.Label,null,"Your Email"),r.a.createElement(j.a.Control,{type:"text",name:"emailForm",onChange:function(t){return e.handleChange(t)},placeholder:"example@email.com"})),r.a.createElement(j.a.Group,{controlId:"formBasicBirthday"},r.a.createElement(j.a.Label,null,"Your Birthday"),r.a.createElement(j.a.Control,{type:"text",name:"birthdayForm",onChange:function(t){return e.handleChange(t)},placeholder:"example: 01/01/1990"})),r.a.createElement(w.a,{className:"change-btn",variant:"outline-dark",type:"button",onClick:function(t){return e.handleSubmit(t)}},"Change")))):null}}]),t}(r.a.Component)),M=Object(d.b)(function(e){return{movies:e.movies}})(D);a(101);var U=Object(d.b)(function(e){return{movies:e.movies}})(function(e){var t=e.movies,a=e.genreName;if(!t||!t.length)return null;var n=t.find(function(e){return e.Genre.Name===a});return r.a.createElement("div",{className:"genre-view"},r.a.createElement("h1",{className:"genre"},n.Genre.Name),r.a.createElement("hr",null),r.a.createElement("div",{className:"description"},n.Genre.Description),r.a.createElement("br",null),r.a.createElement(I.b,{to:"/Movie-App-React"},r.a.createElement(w.a,{className:"gbtn",variant:"outline-dark"},"Back")))});a(102);function T(e){var t=Object(n.useState)(""),a=Object(O.a)(t,2),o=a[0],l=a[1],c=Object(n.useState)(""),i=Object(O.a)(c,2),s=i[0],m=i[1],u=Object(n.useState)(""),v=Object(O.a)(u,2),d=v[0],h=v[1],E=Object(n.useState)(""),p=Object(O.a)(E,2),g=p[0],f=p[1];return r.a.createElement("div",{className:"containerR"},r.a.createElement(j.a,null,r.a.createElement(j.a.Group,{controlId:"formBasicUsername"},r.a.createElement(j.a.Label,null,"Username:"),r.a.createElement(j.a.Control,{type:"username",value:o,onChange:function(e){return l(e.target.value)},placeholder:"Enter Username"})),r.a.createElement(j.a.Group,{controlId:"formBasicPassword"},r.a.createElement(j.a.Label,null,"Password:"),r.a.createElement(j.a.Control,{type:"password",value:s,onChange:function(e){return m(e.target.value)},placeholder:"Enter Password"})),r.a.createElement(j.a.Group,{controlId:"formBasicEmail"},r.a.createElement(j.a.Label,null,"Email:"),r.a.createElement(j.a.Control,{type:"email",value:d,onChange:function(e){return h(e.target.value)},placeholder:"Enter Email"})),r.a.createElement(j.a.Group,{controlId:"formBasicBirthday"},r.a.createElement(j.a.Label,null,"Birthday:"),r.a.createElement(j.a.Control,{type:"birthday",value:g,onChange:function(e){return f(e.target.value)},placeholder:"Enter Birthday"})),r.a.createElement(w.a,{className:"submit",variant:"outline-dark",type:"submit",onClick:function(e){return function(e){e.preventDefault();y.a.post("https://floating-ocean-36499.herokuapp.com/users/",{Username:o,Password:s,Email:d,Birthday:g}).then(function(e){var t=e.data;console.log(t),window.open("/Movie-App-React","_self")}).catch(function(e){console.error("user already exists: ",e)})}(e)}},"Submit")))}var A=a(34),x=a.n(A),G=a(35),P=a.n(G),_=a(24);a(103);var R=Object(d.b)(function(e){return{visibilityFilter:e.visibilityFilter}},{setFilter:function(e){return{type:E,value:e}}})(function(e){return r.a.createElement(j.a.Control,{onChange:function(t){return e.setFilter(t.target.value)},value:e.visibilityFilter,placeholder:"Filter"})}),z=a(29),Y=a.n(z),H=(a(104),function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.movie;return r.a.createElement(Y.a,null,r.a.createElement(Y.a.Img,{variant:"top",src:e.ImageURL}),r.a.createElement(Y.a.Body,null,r.a.createElement(Y.a.Title,null,e.Title),r.a.createElement(Y.a.Text,null,r.a.createElement("h6",null,e.Description)),r.a.createElement(I.b,{to:"/movies/".concat(e._id)},r.a.createElement(w.a,{type:"button",as:"button",variant:"outline-dark",size:"sm",className:"movie-button"},"Learn More"))))}}]),t}(r.a.Component)),V=a(38),W=a.n(V);a(108);var J=Object(d.b)(function(e){var t=e.movies,a=e.visibilityFilter,n=e.sortColumn,r=t.concat().sort(function(e,t){return e[n]<t[n]?-1:e[n]>t[n]?1:0});return""!==a&&(r=r.filter(function(e){return e.Title.toLowerCase().includes(a.toLowerCase())})),{movies:r}})(function(e){var t=e.movies;return t?r.a.createElement("div",{className:"movie-list"},r.a.createElement("br",null),r.a.createElement(R,null),r.a.createElement(x.a,null,r.a.createElement(P.a,null,t.map(function(e){return r.a.createElement(W.a,{key:e._id,xs:8,sm:8,md:6,lg:"auto"},r.a.createElement(H,{key:e.id,movie:e}))})))):r.a.createElement("div",{className:"main-view"})}),q=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).state={movies:[],user:null,profileData:null},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("token");null!==e&&(this.setState({user:localStorage.getItem("user"),profileData:localStorage.getItem("user")}),this.getMovies(e))}},{key:"getUser",value:function(e){var t=this,a=localStorage.getItem("user"),n="".concat("https://floating-ocean-36499.herokuapp.com/users/").concat(a);y.a.get(n,{headers:{Authorization:"Bearer ".concat(e)}}).then(function(e){t.props.setLoggedInUser(e.data)}).catch(function(e){console.log(e)})}},{key:"onLoggedIn",value:function(e){console.log(e),this.setState({user:e.user.Username,profileData:e.user}),this.props.setLoggedInUser(e.user),localStorage.setItem("token",e.token),localStorage.setItem("user",e.user.Username),this.getMovies(e.token)}},{key:"getMovies",value:function(e){var t=this;y.a.get("https://floating-ocean-36499.herokuapp.com/movies",{headers:{Authorization:"Bearer ".concat(e)}}).then(function(e){t.props.setMovies(e.data)}).catch(function(e){console.log(e)})}},{key:"onSignedIn",value:function(e){this.setState({user:e})}},{key:"logOut",value:function(){localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("movies"),this.setState({user:null})}},{key:"render",value:function(){var e=this,t=this.state.user;return r.a.createElement(I.a,null,r.a.createElement("header",{className:"header"},r.a.createElement(I.b,{to:"/Movie-App-React"},r.a.createElement("div",{alt:"clap",className:"logohme"})),r.a.createElement("p",{className:"logo",id:"hide"},"Welcome to my Movie Reel App"),r.a.createElement("div",{className:"nav"},t&&r.a.createElement("div",null,r.a.createElement("input",{className:"menu-btn",type:"checkbox",id:"menu-btn"}),r.a.createElement("label",{className:"menu-icon",htmlFor:"menu-btn"},r.a.createElement("span",{className:"navicon"})),r.a.createElement("ul",{className:"menu"},r.a.createElement("li",null,r.a.createElement(I.b,{to:"/profile"},r.a.createElement(w.a,{id:"profilebtn",variant:"outline-dark"},"My profile"))),r.a.createElement("li",null,r.a.createElement(w.a,{id:"logoutbtn",variant:"outline-dark",onClick:function(){return e.logOut()}}," ","LogOut")))))),r.a.createElement(x.a,{className:"main-view"},r.a.createElement(P.a,null,r.a.createElement(_.a,{exact:!0,path:"/Movie-App-React",render:function(){return t?r.a.createElement(J,null):r.a.createElement(B,{onLoggedIn:function(t){return e.onLoggedIn(t)}})}}),r.a.createElement(_.a,{path:"/movies/:movieId",render:function(e){var t=e.match;return r.a.createElement(S,{movieId:t.params.movieId})}}),r.a.createElement(_.a,{path:"/register",render:function(){return r.a.createElement(T,{onSignedIn:function(t){return e.onSignedIn(t)}})}}),r.a.createElement(_.a,{exact:!0,path:"/genre/:name",render:function(e){var t=e.match;return r.a.createElement(U,{genreName:t.params.name})}}),r.a.createElement(_.a,{exact:!0,path:"/director/:name",render:function(e){var t=e.match;return r.a.createElement(F,{directorName:t.params.name})}}),r.a.createElement(_.a,{exact:!0,path:"/profile",render:function(){return r.a.createElement(M,null)}}))))}}]),t}(r.a.Component),$=Object(d.b)(null,{setMovies:function(e){return{type:h,value:e}},setLoggedInUser:function(e){return{type:g,value:e}}})(q),K=(a(109),Object(v.c)(b)),Q=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{store:K},r.a.createElement($,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},56:function(e,t,a){e.exports=a(110)},62:function(e,t,a){},84:function(e,t,a){},90:function(e,t,a){},99:function(e,t,a){}},[[56,1,2]]]);
//# sourceMappingURL=main.0ee0f91f.chunk.js.map